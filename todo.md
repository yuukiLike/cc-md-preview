# Todo

> 更新于 2026-02-21

## 当前状态
- 分支：main
- 未提交变更：无
- 最近完成：文件夹扫描功能（Rust 端递归扫描 + 前端卡片网格展示），Rust 代码全面添加中文注释，CLAUDE.md 新增 cargo doc 约定

## 进行中
- [ ] 命令命名优化：当前命令名风格不统一（/s-commit 带连字符、/goodgame 是拼接词、/feat 是缩写），下次应该统一审视一遍，考虑命名一致性

## 下次要做

### 待讨论：文件夹打开后的浏览布局
- 当前实现：打开文件夹后显示卡片网格，点击卡片进入预览，左上角 "Back to folder" 返回
- 问题：是否需要左侧侧边栏显示文件树？用户认为传统文件树太普通，想要更有趣的交互
- 可能的方向：资源管理器风格布局？或者其他创意方案？
- **需要先讨论确定方案再动手**

### Bug 修复
- [ ] **图片无法预览**：.md 文档中的图片没有正确显示。可能原因：Tauri 的 CSP 限制了外部图片加载，或者本地图片的相对路径没有正确解析为 `asset:` 协议。需要排查 `src-tauri/tauri.conf.json` 的 CSP 配置和 `convertFileSrc` API
- [ ] **链接应使用系统浏览器打开**：当前点击 .md 中的链接行为未知（可能在 WebView 内跳转），应该拦截链接点击事件，调用系统默认浏览器打开。需要 Tauri 的 `shell:open` 权限（当前未开放），或在前端拦截 `<a>` 标签的 click 事件

## 代码中的 TODO
- 无

## 备忘
- 移动端支持是新增需求，需要调研 Tauri v2 移动端的文件访问 API 和限制
- Rust 模块已改为 `pub mod` 以支持 `cargo doc --no-deps --open` 生成 API 文档
- `///` 是 Rust 文档注释（会被 cargo doc 提取），`//` 是普通注释（不会出现在文档中）
- `cargo clean --doc` 可以只清除文档产物，不影响编译缓存
